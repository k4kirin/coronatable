(this.webpackJsonpcoronatable=this.webpackJsonpcoronatable||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),l=n.n(o),c=(n(13),n(1)),s=n(2),i=n(4),u=n(3),m=(n(5),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{class:"author"},"Made by ",a.a.createElement("a",{href:"http://k4kirin.github.io"},"k4kirin"))}}]),n}(a.a.Component)),d=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={error:null,isLoaded:!1,items:[],curCol:0,sortBy:0},r}return Object(s.a)(n,[{key:"compare",value:function(e,t,n){var r,a,o=document.getElementById("coronatable").rows,l=o[t].getElementsByTagName("TD")[e],c=o[n].getElementsByTagName("TD")[e];return 0==e?(r=l.innerHTML.localeCompare(c.innerHTML),a=0):(r=Number(l.innerHTML),a=Number(c.innerHTML)),r<a}},{key:"sortTable",value:function(e,t,n){if(n!=t){var r,a=document.getElementById("coronatable"),o=a.rows,l=Number(t),c=!0;for(2==t&&n==a.rows.length&&this.setState({curCol:e,sortBy:1}),r=t+1;r<n;r++)if(this.compare(e,r-1,r)){c=!1;break}if(c){if(2==t&&n==a.rows.length){for(r=3;r<a.rows.length;r++)o[2].parentNode.insertBefore(o[r],o[2]);this.setState({sortBy:1-this.state.sortBy})}}else{for(r=t+1;r<n;r++)this.compare(e,l,r)&&(o[t].parentNode.insertBefore(o[r],o[t]),l++);console.log(l,t,n),this.sortTable(e,t,l),this.sortTable(e,l+1,n)}}}},{key:"fetchApi",value:function(){var e=this;fetch("https://api.covid19api.com/summary").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,items:t.Countries})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"componentDidMount",value:function(){this.fetchApi()}},{key:"arrow",value:function(e){if(this.state.curCol==e)return 1==this.state.sortBy?"\u25bc":"\u25b2"}},{key:"dateParse",value:function(e){return e.substring(0,10)+" "+e.substring(12,19)+" GMT"}},{key:"render",value:function(){var e=this,t=this.state,n=t.error,r=t.isLoaded,o=t.items;return n?(window.location.reload(),a.a.createElement("div",null,"Reloading. Error: ",n.message)):r?a.a.createElement("div",null,"Last updated: ",this.dateParse(o[0].Date),a.a.createElement("table",{style:{border:"1px solid white"},id:"coronatable"},a.a.createElement("tr",null,a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(0,2,document.getElementById("coronatable").rows.length)}},"Country"),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(1,2,document.getElementById("coronatable").rows.length)}},"New Confirmed"),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(2,2,document.getElementById("coronatable").rows.length)}},"Total Confirmed"),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(3,2,document.getElementById("coronatable").rows.length)}},"New Deaths"),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(4,2,document.getElementById("coronatable").rows.length)}},"Total Deaths"),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(5,2,document.getElementById("coronatable").rows.length)}},"New Recovered"),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(6,2,document.getElementById("coronatable").rows.length)}},"Total Recovered")),a.a.createElement("tr",null,a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(0,2,document.getElementById("coronatable").rows.length)}},this.arrow(0)),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(1,2,document.getElementById("coronatable").rows.length)}},this.arrow(1)),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(2,2,document.getElementById("coronatable").rows.length)}},this.arrow(2)),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(3,2,document.getElementById("coronatable").rows.length)}},this.arrow(3)),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(4,2,document.getElementById("coronatable").rows.length)}},this.arrow(4)),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(5,2,document.getElementById("coronatable").rows.length)}},this.arrow(5)),a.a.createElement("th",{class:"sortheader",onClick:function(){return e.sortTable(6,2,document.getElementById("coronatable").rows.length)}},this.arrow(6))),o.map((function(e){return a.a.createElement("tr",{class:"sortrow"},a.a.createElement("td",null,e.Country),a.a.createElement("td",null,e.NewConfirmed),a.a.createElement("td",null,e.TotalConfirmed),a.a.createElement("td",null,e.NewDeaths),a.a.createElement("td",null,e.TotalDeaths),a.a.createElement("td",null,e.NewRecovered),a.a.createElement("td",null,e.TotalRecovered))})))):a.a.createElement("div",null,"Loading...")}}]),n}(r.Component),h=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",null,"COVID-19 Table"))}}]),n}(r.Component),b=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(m,null),a.a.createElement(h,null),a.a.createElement(d,null))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t,n){},8:function(e,t,n){e.exports=n(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.a335a4bc.chunk.js.map